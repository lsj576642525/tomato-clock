(this["webpackJsonpantd-demo-ts"]=this["webpackJsonpantd-demo-ts"]||[]).push([[0],{135:function(e,t,a){e.exports=a(223)},144:function(e,t,a){},145:function(e,t,a){},186:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},203:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},220:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),s=a(32),i=a(65),u=a(58),d=Object(i.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[t.payload].concat(Object(u.a)(e));case"INIT_TODOS":return Object(u.a)(t.payload);case"UPDATE_TODO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"EDIT_TODO":return e.map((function(e){return e.id===t.payload?Object.assign(e,{editing:!0}):Object.assign(e,{editing:!1})}));default:return e}},tomatoes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOMATO":return[t.payload].concat(Object(u.a)(e));case"INIT_TOMATOES":return Object(u.a)(t.payload);case"UPDATE_TOMATO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}}}),l=Object(i.c)(d),p=(a(144),a(9)),m=a(10),h=a(12),f=a(11),v=(a(145),a(72)),b=a(25),T=a(37),y=a(13),O=a.n(y),E=a(31),g=a(226),j=a(231),k=a(236),w=a(233),D=a(235),C=a(119),x=a.n(C).a.create({baseURL:"https://gp-server.hunger-valley.com/",headers:{"t-app-id":"wK42ZHn8zfxtupYUZ2J6crxx","t-app-secret":"eyRerzhKvXxZDDJ4hjFc9uMs"}});x.interceptors.request.use((function(e){var t=localStorage.getItem("x-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return console.error(e),Promise.reject(e)})),x.interceptors.response.use((function(e){return e.headers["x-token"]&&localStorage.setItem("x-token",e.headers["x-token"]),e}),(function(e){return Promise.reject(e)}));var N,_=x,I=a(228),A=a(234),S=function(e){return{type:"UPDATE_TODO",payload:e}},M=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onDescriptionChange=function(e){n.setState({description:e.target.value})},n.addTodo=Object(E.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post("todos",{description:n.state.description});case 3:t=e.sent,n.props.addTodo(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:n.setState({description:""});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.onkeyUp=function(e){13===e.keyCode&&""!==n.state.description&&n.addTodo()},n.state={description:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.description,t=e?o.a.createElement(A.a,{onClick:this.addTodo}):o.a.createElement("span",null);return o.a.createElement("div",null,o.a.createElement(I.a,{placeholder:"\u6dfb\u52a0\u65b0\u4efb\u52a1",suffix:t,value:e,onChange:this.onDescriptionChange,onKeyUp:this.onkeyUp}))}}]),a}(o.a.Component),U={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},H=Object(s.b)((function(e,t){return Object(T.a)({},t)}),U)(M),F=a(230),P=a(232),K=a(1),B=a.n(K),L=(a(186),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).editTodo=function(){n.props.editTodo(n.props.id)},n.updateTodo=function(){var e=Object(E.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed&&(t.completed_at=new Date),e.prev=1,e.next=4,_.put("todos/".concat(n.props.id),t);case 4:a=e.sent,n.props.updateTodo(a.data.resource),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n.onKeyUp=function(e){13===e.keyCode&&""!==n.state.editText&&n.updateTodo({description:n.state.editText})},n.state={editText:n.props.description},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"editing"},o.a.createElement("input",{value:this.state.editText,onChange:function(t){return e.setState({editText:t.target.value})},onKeyUp:this.onKeyUp}),o.a.createElement("div",{className:"iconWrapper"},o.a.createElement(P.a,{onClick:function(){return e.updateTodo({deleted:!0})}}))),a=o.a.createElement("span",{className:"text",onClick:this.editTodo},this.props.description),n=B()({TodoItem:!0,editing:this.props.editing,completed:this.props.completed});return o.a.createElement("div",{className:n,id:"TodoItem"},o.a.createElement(F.a,{checked:this.props.completed,onChange:function(t){e.updateTodo({completed:t.target.checked})}}),this.props.editing?t:a)}}]),a}(o.a.Component)),W={editTodo:function(e){return{type:"EDIT_TODO",payload:e}},updateTodo:S},J=Object(s.b)((function(e,t){return Object(T.a)({},t)}),W)(L),z=(a(190),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={todos:[]},n}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"Todos",id:"Todos"},o.a.createElement(H,null),o.a.createElement("div",{className:"todoLists"},this.unCompletedTodos.map((function(e){return o.a.createElement(J,Object.assign({key:e.id},e))}))))}},{key:"unDeletedTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}},{key:"unCompletedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return!e.completed}))}},{key:"completedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return e.completed}))}}]),a}(o.a.Component)),R=Object(s.b)((function(e,t){return Object(T.a)({todos:e.todos},t)}),{})(z),Z=a(227),q=a(46),X=a(238),Y=a(237),$=(a(191),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={countDown:n.props.timer},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;N=setInterval((function(){var t=e.state.countDown;e.setState({countDown:t-1e3}),t<1e3&&(e.props.onFinish(),clearInterval(N))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(N)}},{key:"render",value:function(){var e=1-this.state.countDown/this.props.duration;return o.a.createElement("div",{className:"CountDown",id:"CountDown"},o.a.createElement("span",{className:"restTime"},this.countDown),o.a.createElement("div",{className:"progress",style:{width:"".concat(100*e,"%")}}))}},{key:"countDown",get:function(){var e=Math.floor(this.state.countDown/1e3/60),t=Math.floor(this.state.countDown/1e3%60);return"".concat(e<10?"0".concat(e):e,":").concat(t<10?"0".concat(t):t)}}]),a}(o.a.Component)),G=(a(192),Z.a.confirm),Q=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onKeyUp=function(e){13===e.keyCode&&""!==n.state.description&&n.addDescription()},n.onFinish=function(){n.forceUpdate()},n.addDescription=function(){n.updateTomato({description:n.state.description,ended_at:new Date}),n.setState({description:""})},n.abortTomato=function(){n.updateTomato({aborted:!0})},n.updateTomato=function(){var e=Object(E.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.put("tomatoes/".concat(n.props.unFinishedTomatoes.id),t);case 3:a=e.sent,n.props.updateTomato(a.data.resource),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.showConfirm=function(){G({title:"\u60a8\u76ee\u524d\u6b63\u5728\u4e00\u4e2a\u756a\u8304\u5de5\u4f5c\u65f6\u95f4\u4e2d\uff0c\u8981\u653e\u5f03\u8fd9\u4e2a\u756a\u8304\u5417\uff1f",icon:o.a.createElement(X.a,null),onOk:function(){n.abortTomato()},onCancel:function(){},okText:"\u786e\u5b9a\u653e\u5f03",cancelText:"\u53d6\u6d88"})},n.state={description:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null);if(void 0===this.props.unFinishedTomatoes)t=o.a.createElement(q.a,{className:"startTomatoButton",onClick:function(){return e.props.startTomato()}},"\u5f00\u59cb\u756a\u8304");else{var a=Date.parse(this.props.unFinishedTomatoes.started_at),n=this.props.unFinishedTomatoes.duration,r=(new Date).getTime();if(r-a>n)t=o.a.createElement("div",{className:"inputWrapper"},o.a.createElement(I.a,{value:this.state.description,placeholder:"\u8bf7\u8f93\u5165\u4f60\u521a\u521a\u5b8c\u6210\u7684\u4efb\u52a1",onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:function(t){return e.onKeyUp(t)}}),o.a.createElement(Y.a,{className:"abort",onClick:this.showConfirm}));else if(r-a<n){var c=a+n-r;t=o.a.createElement("div",{className:"countDownWrapper"},o.a.createElement($,{duration:n,timer:c,onFinish:this.onFinish}),o.a.createElement(Y.a,{className:"abort",onClick:this.showConfirm}))}}return o.a.createElement("div",{className:"TomatoAction",id:"TomatoAction"},t)}}]),a}(o.a.Component),V=a(224),ee=(a(203),function(e){return o.a.createElement("div",{className:"TomatoItem"},o.a.createElement("span",{className:"timeRange"},Object(V.a)(Date.parse(e.started_at),"HH:mm")," - ",Object(V.a)(Date.parse(e.ended_at),"HH:mm")),o.a.createElement("span",{className:"description"},e.description))}),te=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.dates.map((function(t){var a=e.props.finishedTomatoes[t];return o.a.createElement("div",{key:t,className:"dailyTomatoes"},o.a.createElement("div",{className:"title"},o.a.createElement("span",{className:"dateTime"},Object(V.a)(Date.parse(t),"M\u6708dd\u65e5")),o.a.createElement("span",{className:"finishedCount"},"\u5b8c\u6210\u4e86",a.length,"\u4e2a\u756a\u8304")),a.map((function(e){return o.a.createElement(ee,Object.assign({key:e.id},e))})))}));return o.a.createElement("div",{className:"TomatoList",id:"TomatoList"},t)}},{key:"dates",get:function(){return Object.keys(this.props.finishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}}]),a}(o.a.Component),ae=a(68),ne=a.n(ae),oe=(a(205),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).startTomato=Object(E.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post("tomatoes",{duration:15e5});case 3:t=e.sent,n.props.addTomato(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={},n}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"Tomatoes",id:"Tomatoes"},o.a.createElement(Q,{startTomato:this.startTomato,unFinishedTomatoes:this.unFinishedTomatoes,updateTomato:this.props.updateTomato}),o.a.createElement(te,{finishedTomatoes:this.finishedTomatoes}))}},{key:"unFinishedTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return!e.description&&!e.ended_at&&!e.aborted}))[0]}},{key:"finishedTomatoes",get:function(){var e=this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}));return ne.a.groupBy(e,(function(e){return Object(V.a)(Date.parse(e.started_at),"yyyy-MM-d")}))}}]),a}(o.a.Component)),re={addTomato:function(e){return{type:"ADD_TOMATO",payload:e}},updateTomato:function(e){return{type:"UPDATE_TOMATO",payload:e}}},ce=Object(s.b)((function(e,t){return Object(T.a)({tomatoes:e.tomatoes},t)}),re)(oe),se=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).point=function(){var t=Object.keys(e.props.data).sort((function(e,t){return Date.parse(e)-Date.parse(t)})),a=t[0];if(a){var n,o=(new Date).getTime()-Date.parse(a),r=0,c=t.map((function(t){var c=(Date.parse(t)-Date.parse(a))/o*240,s=60*(1-(r+=e.props.data[t].length)/e.props.totalFinishedCount);return n=s,"".concat(c,",").concat(s)}));return["0,60"].concat(Object(u.a)(c),["240,".concat(n),"240,60"]).join(" ")}return"0,60 240,60 0,60"},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log(this.props),o.a.createElement("div",null,o.a.createElement("svg",null,o.a.createElement("polygon",{fill:"rgba(215,78,78,0.1)",stroke:"rgba(215,78,78,0.5)",strokeWidth:"1",points:this.point()})))}}]),a}(o.a.Component),ie=a(225),ue=(a(206),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).updateTodo=function(){var e=Object(E.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.put("todos/".concat(n.props.todo.id),t);case 3:a=e.sent,n.props.updateTodo(a.data.resource),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=Date.parse(this.props.todo.updated_at),n="HH:mm";return"finished"===this.props.itemType?(n="HH:mm",a=Date.parse(this.props.todo.updated_at),e=o.a.createElement("div",{className:"action"},o.a.createElement("span",{onClick:function(){return t.updateTodo({completed:!1})}},"\u6062\u590d"),o.a.createElement("span",{onClick:function(){return t.updateTodo({deleted:!0})}},"\u5220\u9664"))):"deleted"===this.props.itemType&&(n="yyyy-MM-dd HH:mm",a=Date.parse(this.props.todo.created_at),e=o.a.createElement("div",{className:"action"},o.a.createElement("span",{onClick:function(){return t.updateTodo({deleted:!1})}},"\u6062\u590d"))),o.a.createElement("div",{className:"TodoHistoryTodoItem",id:"TodoHistoryTodoItem"},o.a.createElement("div",{className:"text"},o.a.createElement("span",{className:"time"},Object(V.a)(a,n)),o.a.createElement("span",{className:"description"},this.props.todo.description)),e)}}]),a}(o.a.Component)),de={updateTodo:S},le=Object(s.b)((function(e,t){return Object(T.a)({todos:e.todos},t)}),de)(ue),pe=(a(207),ie.a.TabPane),me=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return o.a.createElement("div",{key:t,className:"dailyTodos"},o.a.createElement("div",{className:"summary"},o.a.createElement("p",{className:"date"},t),o.a.createElement("p",{className:"finishedCount"},"\u5b8c\u6210\u4e86",e.dailyFinishedTodos[t].length,"\u4e2a\u4efb\u52a1")),o.a.createElement("div",{className:"todoList"},e.dailyFinishedTodos[t].map((function(e){return o.a.createElement(le,{key:e.id,todo:e,itemType:"finished"})}))))})),a=this.deletedTodos.map((function(e){return o.a.createElement(le,{key:e.id,todo:e,itemType:"deleted"})}));return o.a.createElement(ie.a,{defaultActiveKey:"1"},o.a.createElement(pe,{tab:"\u5df2\u5b8c\u6210\u7684\u4efb\u52a1",key:"1"},o.a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},t)),o.a.createElement(pe,{tab:"\u5df2\u5220\u9664\u7684\u4efb\u52a1",key:"2"},o.a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},a)))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"deletedTodos",get:function(){return this.props.todos.filter((function(e){return e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return ne.a.groupBy(this.finishedTodos,(function(e){return Object(V.a)(Date.parse(e.updated_at),"yyyy-MM-d")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTodos).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}}]),a}(o.a.Component),he=Object(s.b)((function(e,t){return Object(T.a)({todos:e.todos},t)}))(me),fe=(a(212),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"Statistics",id:"Statistics"},o.a.createElement("ul",null,o.a.createElement("li",null,"\u4efb\u52a1\u5386\u53f2 \u7d2f\u8ba1\u5b8c\u6210",this.finishedTodos.length,"\u4e2a\u4efb\u52a1",o.a.createElement(se,{data:this.dailyTodos,totalFinishedCount:this.finishedTodos.length}))),o.a.createElement(he,null))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"dailyTodos",get:function(){return ne.a.groupBy(this.finishedTodos,(function(e){return Object(V.a)(Date.parse(e.updated_at),"yyyy-MM-d")}))}}]),a}(o.a.Component)),ve=Object(s.b)((function(e,t){return Object(T.a)({todos:e.todos},t)}))(fe),be=(a(213),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getTodos=Object(E.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("todos");case 3:t=e.sent,a=t.data.resources.map((function(e){return Object.assign({},e,{editing:!1})})),n.props.initTodos(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.getTomatoes=Object(E.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("tomatoes");case 3:t=e.sent,n.props.initTomatoes(t.data.resources),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.logout=function(){localStorage.setItem("x-token",""),n.props.history.push("/login")},n.menu=o.a.createElement(g.a,null,o.a.createElement(g.a.Item,{key:"1",icon:o.a.createElement(k.a,null)},"\u4e2a\u4eba\u8bbe\u7f6e"),o.a.createElement(g.a.Item,{key:"2",onClick:n.logout,icon:o.a.createElement(w.a,null)},"\u6ce8\u9500")),n.getMe=Object(E.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("me");case 3:t=e.sent,n.setState({user:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.response.status&&n.props.history.push("/login");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={user:{}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMe();case 2:return e.next=4,this.getTodos();case 4:return e.next=6,this.getTomatoes();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"Home",id:"Home"},o.a.createElement("header",null,o.a.createElement("span",{className:"logo"},"\u756a\u8304\u95f9\u949f"),o.a.createElement(j.a,{overlay:this.menu},o.a.createElement("span",null,this.state.user&&this.state.user.account," ",o.a.createElement(D.a,null)))),o.a.createElement("main",null,o.a.createElement(ce,null),o.a.createElement(R,null)),o.a.createElement(ve,null))}}]),a}(o.a.Component)),Te={initTodos:function(e){return{type:"INIT_TODOS",payload:e}},initTomatoes:function(e){return{type:"INIT_TOMATOES",payload:e}}},ye=Object(s.b)((function(e,t){return Object(T.a)({todos:e.todos,tomatoes:e.tomatoes},t)}),Te)(be),Oe=a(239),Ee=(a(220),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onAccountChange=function(e){n.setState({account:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.submit=Object(E.a)(O.a.mark((function e(){var t,a,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.account,o=t.password,e.prev=1,e.next=4,_.post("sign_in/user",{account:a,password:o});case 4:n.props.history.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.state={account:"",password:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.account,a=e.password;return o.a.createElement("div",{className:"Login",id:"Login"},o.a.createElement("h1",null,"\u756a\u8304\ud83c\udf45\u95f9\u949f\u767b\u5f55"),o.a.createElement(I.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",prefix:o.a.createElement(Oe.a,null),value:t,onChange:this.onAccountChange}),o.a.createElement(I.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",value:a,onChange:this.onPasswordChange}),o.a.createElement(q.a,{type:"primary",className:"loginButton",onClick:this.submit},"\u767b\u5f55"),o.a.createElement("p",null,"\u5982\u679c\u4f60\u6ca1\u6709\u8d26\u53f7\uff0c\u8bf7\u7acb\u5373 ",o.a.createElement(v.b,{to:"/signUp"},"\u6ce8\u518c")))}}]),a}(o.a.Component)),ge=(a(222),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onAccountChange=function(e){n.setState({account:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onPasswordConfirmationChange=function(e){n.setState({password_confirmation:e.target.value})},n.submit=Object(E.a)(O.a.mark((function e(){var t,a,o,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.account,o=t.password,r=t.password_confirmation,e.prev=1,e.next=4,_.post("sign_up/user",{account:a,password:o,password_confirmation:r});case 4:n.props.history.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.state={account:"",password:"",password_confirmation:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.account,a=e.password,n=e.password_confirmation;return o.a.createElement("div",{className:"SignUp",id:"SignUp"},o.a.createElement("h1",null,"\u756a\u8304\ud83c\udf45\u95f9\u949f\u6ce8\u518c"),o.a.createElement(I.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",prefix:o.a.createElement(Oe.a,null),value:t,onChange:this.onAccountChange}),o.a.createElement(I.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",value:a,onChange:this.onPasswordChange}),o.a.createElement(I.a.Password,{placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801",value:n,onChange:this.onPasswordConfirmationChange}),o.a.createElement(q.a,{type:"primary",className:"signUpButton",onClick:this.submit},"\u6ce8\u518c"),o.a.createElement("p",null,"\u5982\u679c\u4f60\u6709\u8d26\u53f7\uff0c\u8bf7\u7acb\u5373 ",o.a.createElement(v.b,{to:"/login"},"\u767b\u5f55")))}}]),a}(o.a.Component)),je=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return n.createElement(v.a,null,n.createElement(b.a,{exact:!0,path:"/",component:ye}),n.createElement(b.a,{path:"/login",component:Ee}),n.createElement(b.a,{path:"/signUp",component:ge}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(s.a,{store:l},o.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.39e16f14.chunk.js.map